(function(){var requirejs,require,define;(function(undef){function normalize(name,baseName){var baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{},nameParts,nameSegment,mapValue,foundMap,i,j,part;if(name&&name.charAt(0)==="."&&baseName){baseParts=baseParts.slice(0,baseParts.length-1),name=baseParts.concat(name.split("/"));for(i=0;part=name[i];i++)if(part===".")name.splice(i,1),i-=1;else if(part===".."){if(i===1&&(name[2]===".."||name[0]===".."))return!0;i>0&&(name.splice(i-1,2),i-=2)}name=name.join("/")}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts)for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;break}}}foundMap=foundMap||starMap[nameSegment];if(foundMap){nameParts.splice(0,i,foundMap),name=nameParts.join("/");break}}}return name}function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(waiting.hasOwnProperty(name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!defined.hasOwnProperty(name))throw new Error("No "+name);return defined[name]}function makeMap(name,relName){var prefix,plugin,index=name.indexOf("!");return index!==-1?(prefix=normalize(name.slice(0,index),relName),name=name.slice(index+1),plugin=callDep(prefix),plugin&&plugin.normalize?name=plugin.normalize(name,makeNormalize(relName)):name=normalize(name,relName)):name=normalize(name,relName),{f:prefix?prefix+"!"+name:name,n:name,p:plugin}}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}var defined={},waiting={},config={},defining={},aps=[].slice,main,req;main=function(name,deps,callback,relName){var args=[],usingExports,cjsModule,depName,ret,map,i;relName=relName||name;if(typeof callback=="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i++){map=makeMap(deps[i],relName),depName=map.f;if(depName==="require")args[i]=makeRequire(name);else if(depName==="exports")args[i]=defined[name]={},usingExports=!0;else if(depName==="module")cjsModule=args[i]={id:name,uri:"",exports:defined[name],config:makeConfig(name)};else if(defined.hasOwnProperty(depName)||waiting.hasOwnProperty(depName))args[i]=callDep(depName);else if(map.p)map.p.load(map.n,makeRequire(relName,!0),makeLoad(depName),{}),args[i]=defined[depName];else if(!defining[depName])throw new Error(name+" missing "+depName)}ret=callback.apply(defined[name],args);if(name)if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name])defined[name]=cjsModule.exports;else if(ret!==undef||!usingExports)defined[name]=ret}else name&&(defined[name]=callback)},requirejs=require=req=function(deps,callback,relName,forceSync){return typeof deps=="string"?callDep(makeMap(deps,callback).f):(deps.splice||(config=deps,callback.splice?(deps=callback,callback=relName,relName=null):deps=undef),callback=callback||function(){},forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},15),req)},req.config=function(cfg){return config=cfg,req},define=function(name,deps,callback){deps.splice||(callback=deps,deps=[]),waiting[name]=[name,deps,callback]},define.amd={jQuery:!0}})(),define("almond",function(){}),define("lib/utilities",[],function(){var module={};return module.randomInRange=function(lowerBound,upperBound){return lowerBound+Math.random()*(upperBound-lowerBound)|0},module.fisherYates=function(a){var tmp,i,j;for(i=a.length-1;i>0;--i)j=Math.random()*(i+1)|0,temp=a[j],a[j]=a[i],a[i]=temp;return a},module.jsonLoad=function(method,url,callback){var req=new XMLHttpRequest;req.open(method,url,!0),req.onreadystatechange=function(){if(req.readyState===4){var document=JSON.parse(req.responseText);callback(document)}},req.send(null)},module}),define("lib/question",[],function(){var module={};return module.question=function(equation,format,operator){var eq=equation.slice(0),correctAnswer=eq[format],that={};return eq[format]="?",that.toString=function(){return[eq[0],operator,eq[1],"=",eq[2]].join(" ")},that.checkAnswer=function(answer){return correctAnswer==answer},that},module.question}),define("lib/problem",[],function(){var module={};return module.problem=function(question,choices){return{question:question,choices:choices}},module.problem}),define("lib/problemGeneratorBase",["./utilities","./question","./problem"],function(util,questionConstructor,problemConstructor){var module={};return module.problemGeneratorBase=function(spec){var that={},formats=[];spec.format_answer_first&&formats.push(0),spec.format_answer_middle&&formats.push(1),spec.format_answer_last&&formats.push(2);var randomFormat=function(){return formats[util.randomInRange(0,formats.length)]};that.randomFormat=randomFormat;var createChoices=function(min_value,max_value,count,answer,unique){var choices=[],choice,i;count-=1;for(i=0;i<count;i++){do choice=util.randomInRange(min_value,max_value);while(unique&&(choice===answer||choices.indexOf(choice)!==-1));choices.push(choice)}return choices.splice(util.randomInRange(0,choices.length),0,answer),choices};that.createChoices=createChoices;var createProblem=function(equation,format){var question=questionConstructor(equation,format,that.symbol),choiceRange=that.choiceRanges[format],choices=createChoices(choiceRange.min,choiceRange.max,spec.choice_count,equation[format],!0);return problemConstructor(question,choices)},generate=function(){var equation=that.equationGenerator(),format=randomFormat();return createProblem(equation,format)};that.generate=generate;var generateAll=function(){var equations=that.permutations(),problems=[],i,k;for(i=0;i<equations.length;i++)for(k=0;k<formats.length;k++)problems.push(createProblem(equations[i],formats[k]));return problems};return that.generateAll=generateAll,that},module.problemGeneratorBase}),define("lib/addition/problemGenerator",["../utilities","../problemGeneratorBase"],function(util,problemGeneratorBase){var module={};return module.problemGenerator=function(spec){var that=problemGeneratorBase(spec),symbol="+";that.symbol=symbol;var choiceRanges=[{min:spec.min_augend,max:spec.max_augend},{min:spec.min_addend,max:spec.max_addend},{min:spec.min_augend+spec.min_addend,max:spec.max_augend+spec.max_addend}];that.choiceRanges=choiceRanges;var permutations=function(){var augend,addend,sum,equations=[];for(augend=spec.min_augend;augend<spec.max_augend;++augend)for(addend=spec.min_addend;addend<spec.max_addend;++addend)sum=augend+addend,sum<spec.max_answer&&(sum>=0||spec.allow_negatives)&&equations.push([augend,addend,sum]);return equations};that.permutations=permutations;var equationGenerator=function(){var augend,addend,sum;do augend=util.randomInRange(spec.min_augend,spec.max_augend),addend=util.randomInRange(spec.min_addend,spec.max_addend),sum=augend+addend;while(sum>spec.max_answer||sum<0&&!spec.allow_negatives);return[augend,addend,sum]};return that.equationGenerator=equationGenerator,that},module.problemGenerator}),define("lib/subtraction/problemGenerator",["../utilities","../problemGeneratorBase"],function(util,problemGeneratorBase){var module={};return module.problemGenerator=function(spec){var that=problemGeneratorBase(spec),symbol="-";that.symbol=symbol;var choiceRanges=[{min:spec.min_minuend,max:spec.max_minuend},{min:spec.min_subtrahend,max:spec.max_subtrahend},{min:spec.min_minuend-spec.max_subtrahend,max:spec.max_minuend-spec.min_subtrahend}];that.choiceRanges=choiceRanges;var permutations=function(){var minuend,subtrahend,difference,equations=[];for(minuend=spec.min_minuend;minuend<spec.max_minuend;++minuend)for(subtrahend=spec.min_subtrahend;subtrahend<spec.max_subtrahend;++subtrahend)difference=minuend-subtrahend,difference<spec.max_answer&&(difference>=0||spec.allow_negatives)&&equations.push([minuend,subtrahend,difference]);return equations};that.permutations=permutations;var equationGenerator=function(){var minuend,subtrahend,difference;do minuend=util.randomInRange(spec.min_minuend,spec.max_minuend),subtrahend=util.randomInRange(spec.min_subtrahend,spec.max_subtrahend),difference=minuend-subtrahend;while(difference>spec.max_answer||difference<0&&!spec.allow_negatives);return[minuend,subtrahend,difference]};return that.equationGenerator=equationGenerator,that},module.problemGenerator}),define("lib/multiplication/problemGenerator",["../utilities","../problemGeneratorBase"],function(util,problemGeneratorBase){var module={};return module.problemGenerator=function(spec){var that=problemGeneratorBase(spec),symbol="*";that.symbol=symbol;var choiceRanges=[{min:spec.min_multiplier,max:spec.max_multiplier},{min:spec.min_multiplicand,max:spec.max_multiplicand},{min:spec.min_multiplier*spec.min_multiplicand,max:spec.max_multiplier*spec.max_multiplicand}];that.choiceRanges=choiceRanges;var permutations=function(){var multiplier,multiplicand,product,equations=[];for(multiplier=spec.min_multiplier;multiplier<spec.max_multiplier;multiplier++)for(multiplicand=spec.min_multiplicand;multiplicand<spec.max_multiplicand;multiplicand++)product=multiplier*multiplicand,product<spec.max_answer&&(product>=0||spec.allow_negatives)&&equations.push([multiplier,multiplicand,product]);return equations};that.permutations=permutations;var equationGenerator=function(){var multiplier,multiplicand,product;do multiplier=util.randomInRange(spec.min_multiplier,spec.max_multiplier),multiplicand=util.randomInRange(spec.min_multiplicand,spec.max_multiplicand),product=multiplier*multiplicand;while(product>spec.max_answer||product<0&&!spec.allow_negatives);return[multiplier,multiplicand,product]};return that.equationGenerator=equationGenerator,that},module.problemGenerator}),define("lib/division/problemGenerator",["../utilities","../problemGeneratorBase"],function(util,problemGeneratorBase){var module={};return module.problemGenerator=function(spec){var that=problemGeneratorBase(spec),symbol="/";that.symbol=symbol;var choiceRanges=[{min:spec.min_divisor*spec.min_quotient,max:spec.max_divisor*spec.max_quotient},{min:spec.min_divisor,max:spec.max_divisor},{min:spec.min_quotient,max:spec.max_quotient}];that.choiceRanges=choiceRanges;var permutations=function(){var quotient,divisor,dividend,equations=[];for(quotient=spec.min_quotient;quotient<spec.max_quotient;++quotient)for(divisor=spec.min_divisor;divisor<spec.max_divisor;++divisor)dividend=divisor*quotient,quotient<spec.max_answer&&(quotient>=0||spec.allow_negatives)&&equations.push([dividend,divisor,quotient]);return equations};that.permutations=permutations;var equationGenerator=function(){var divisor,quotient,dividend;do divisor=util.randomInRange(spec.min_divisor,spec.max_divisor),quotient=util.randomInRange(spec.min_quotient,spec.max_quotient),dividend=divisor*quotient;while(divisor===0||quotient>spec.max_answer||quotient<0&&!spec.allow_negatives);return[dividend,divisor,quotient]};return that.equationGenerator=equationGenerator,that},module.problemGenerator}),define("lib/problemGenerator",["./utilities","./addition/problemGenerator","./subtraction/problemGenerator","./multiplication/problemGenerator","./division/problemGenerator"],function(utils,addition,subtraction,multiplication,division){var module={};return module.problemGenerator=function(spec){var that={},generators=[];return spec.choice_count=spec.choice_count||4,spec.addition_allowed&&generators.push(addition(spec)),spec.subtraction_allowed&&generators.push(subtraction(spec)),spec.division_allowed&&generators.push(division(spec)),spec.multiplication_allowed&&generators.push(multiplication(spec)),that.targetRates=function(){return[spec.firstPlace,spec.secondPlace]},that.maximumRate=function(){return spec.maxRate},that.duration=function(){return spec.duration},that.generate=function(){return generators[utils.randomInRange(0,generators.length)].generate()},that},module.problemGenerator}),define("text",["module"],function(module){var progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation=typeof location!="undefined"&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||undefined),buildMap=[],masterConfig=module.config(),text,fs;return text={version:"2.0.0",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var xhr,i,progId;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(i=0;i<3;i++){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var strip=!1,index=name.indexOf("."),modName=name.substring(0,index),ext=name.substring(index+1,name.length);return index=ext.indexOf("!"),index!==-1&&(strip=ext.substring(index+1,ext.length),strip=strip==="strip",ext=ext.substring(0,index)),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var match=text.xdRegExp.exec(url),uProtocol,uHostName,uPort;return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],(!uProtocol||uProtocol===protocol)&&(!uHostName||uHostName===hostname)&&(!uPort&&!uHostName||uPort===port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config.isBuild&&!config.inlineText){onLoad();return}masterConfig.isBuild=config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+"."+parsed.ext,url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)})},write:function(pluginName,moduleName,write,config){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),nonStripName=parsed.moduleName+"."+parsed.ext,fileName=req.toUrl(parsed.moduleName+"."+parsed.ext)+".js";text.load(nonStripName,req,function(value){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(fs=require.nodeRequire("fs"),text.get=function(url,callback){var file=fs.readFileSync(url,"utf8");file.indexOf("﻿")===0&&(file=file.substring(1)),callback(file)}):text.createXhr()?text.get=function(url,callback,errback){var xhr=text.createXhr();xhr.open("GET",url,!0),masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(evt){var status,err;xhr.readyState===4&&(status=xhr.status,status>399&&status<600?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback(err)):callback(xhr.responseText))},xhr.send(null)}:typeof Packages!="undefined"&&(text.get=function(url,callback){var encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),stringBuffer,line,content="";try{stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&line.charAt(0)===65279&&(line=line.substring(1)),stringBuffer.append(line);while((line=input.readLine())!==null)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}),text}),define("json",["text"],function(text){function cacheBust(url){return url=url.replace(CACHE_BUST_FLAG,""),url+=url.indexOf("?")<0?"?":"&",url+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse=typeof JSON!="undefined"&&typeof JSON.parse=="function"?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(name,req,onLoad,config){!config.isBuild||config.inlineJSON!==!1&&name.indexOf(CACHE_BUST_QUERY_PARAM+"=")===-1?text.get(req.toUrl(name),function(data){config.isBuild?(buildMap[name]=data,onLoad(data)):onLoad(jsonParse(data))}):onLoad(null)},normalize:function(name,normalize){return name.indexOf(CACHE_BUST_FLAG)===-1?name:cacheBust(name)},write:function(pluginName,moduleName,write){if(moduleName in buildMap){var content=buildMap[moduleName];write('define("'+pluginName+"!"+moduleName+'", function(){ return '+content+";});\n")}}}}),define("json!master.json",function(){return[{title:"Addition: 1 to 3",file:"lesson01.json",id:1,sort:1},{title:"Addition: 0 to 5",file:"lesson02.json",id:2,sort:2},{title:"Addition: Sums to 10",file:"lesson03.json",id:3,sort:3},{title:"Addition: Sums to 15",file:"lesson04.json",id:4,sort:4},{title:"Addition: Sums to 20",file:"lesson05.json",id:5,sort:5},{title:"Addition: Two Digit Numbers",file:"lesson06.json",id:6,sort:6},{title:"Addition: Missing Numbers",file:"lesson07.json",id:7,sort:7},{title:"Subtraction: 0 to 10",file:"lesson08.json",id:8,sort:8},{title:"Subtraction: 0 to 20",file:"lesson09.json",id:9,sort:9},{title:"Subtraction: Two Digit Numbers",file:"lesson10.json",id:10,sort:10},{title:"Addition and Subtraction Review",file:"lesson11.json",id:11,sort:11},{title:"Multiplication: 0 to 3",file:"lesson12.json",id:12,sort:12},{title:"Multiples of 2",file:"lesson13.json",id:13,sort:13},{title:"Multiples of 3",file:"lesson14.json",id:14,sort:14},{title:"Multiples of 4",file:"lesson15.json",id:15,sort:15},{title:"Multiples of 5",file:"lesson16.json",id:16,sort:16},{title:"Multiplication: 0 to 5",file:"lesson17.json",id:17,sort:17},{title:"Multiples of 6",file:"lesson18.json",id:18,sort:18},{title:"Multiples of 7",file:"lesson19.json",id:19,sort:19},{title:"Multiplication: 0 to 7",file:"lesson20.json",id:20,sort:20},{title:"Multiples of 8",file:"lesson21.json",id:21,sort:21},{title:"Multiples of 9",file:"lesson22.json",id:22,sort:22},{title:"Multiples of 10",file:"lesson23.json",id:23,sort:23},{title:"Multiplication: 0 to 10",file:"lesson24.json",id:24,sort:24},{title:"Multiples of 11 and 12",file:"lesson25.json",id:25,sort:25},{title:"Multiplication: 0 to 12",file:"lesson26.json",id:26,sort:26},{title:"Multiples of 13, 14, and 15",file:"lesson27.json",id:27,sort:27},{title:"Multiplication: 0 to 15",file:"lesson28.json",id:28,sort:28},{title:"Multiplication: Missing Numbers",file:"lesson29.json",id:29,sort:29},{title:"Division by 2",file:"lesson30.json",id:30,sort:30},{title:"Division by 3",file:"lesson31.json",id:31,sort:31},{title:"Division by 4",file:"lesson32.json",id:32,sort:32},{title:"Division by 5",file:"lesson33.json",id:33,sort:33},{title:"Division: 1 to 5",file:"lesson34.json",id:34,sort:34},{title:"Division by 6",file:"lesson35.json",id:35,sort:35},{title:"Division by 7",file:"lesson36.json",id:36,sort:36},{title:"Division by 8",file:"lesson37.json",id:37,sort:37},{title:"Division by 9",file:"lesson38.json",id:38,sort:38},{title:"Division by 10",file:"lesson39.json",id:39,sort:39},{title:"Division: 1 to 10",file:"lesson40.json",id:40,sort:40},{title:"Division by 11 and 12",file:"lesson41.json",id:41,sort:41},{title:"Division: 1 to 12",file:"lesson42.json",id:42,sort:42},{title:"Division by 13, 14, and 15",file:"lesson43.json",id:43,sort:43},{title:"Division: 1 to 15",file:"lesson44.json",id:44,sort:44},{title:"Multiplication and Division Review",file:"lesson45.json",id:45,sort:45},{title:"Subtraction: Negative Answers",file:"lesson47.json",id:47,sort:47},{title:"Adding Negatives to Positives",file:"lesson48.json",id:48,sort:48},{title:"Adding Positives to Negatives",file:"lesson49.json",id:49,sort:49},{title:"Subtracting Negatives From Positives",file:"lesson50.json",id:50,sort:50},{title:"Subtracting Positives From Negatives",file:"lesson51.json",id:51,sort:51},{title:"Adding Negatives to Negatives",file:"lesson52.json",id:52,sort:52},{title:"Subtracting Negatives From Negatives",file:"lesson53.json",id:53,sort:53},{title:"Negative and Positive Numbers Review",file:"lesson54.json",id:54,sort:54},{title:"Multiplication and Division of Negatives",file:"lesson55.json",id:55,sort:55},{title:"Multiplication of Positives and Negatives",file:"lesson56.json",id:56,sort:56},{title:"Division of Positives and Negatives",file:"lesson57.json",id:57,sort:57}]}),function(){function addPart(locale,master,needed,toLoad,prefix,suffix){master[locale]&&(needed.push(locale),(master[locale]===!0||master[locale]===1)&&toLoad.push(prefix+locale+"/"+suffix))}function addIfExists(req,locale,toLoad,prefix,suffix){var fullName=prefix+locale+"/"+suffix;require._fileExists(req.toUrl(fullName))&&toLoad.push(fullName)}function mixin(target,source,force){var prop;for(prop in source)source.hasOwnProperty(prop)&&(!target.hasOwnProperty(prop)||force)?target[prop]=source[prop]:typeof source[prop]=="object"&&mixin(target[prop],source[prop],force)}function detectLocale(navigator){var isAndroid=navigator.userAgent&&navigator.userAgent.match(/Android/),locale;return isAndroid?(locale=navigator.userAgent.match(/Android \d+(?:\.\d+){1,2}; ([a-z]{2}-[a-z]{2})/),locale&&(locale=locale[1])):navigator.language?locale=navigator.language:navigator.userLanguage?locale=navigator.userLanguage:navigator.browserLanguage?locale=navigator.browserLanguage:navigator.systemLanguage&&(locale=navigator.systemLanguage),locale}var nlsRegExp=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,fs,getContents;typeof process!="undefined"&&process.versions&&!!process.versions.node?(fs=require.nodeRequire("fs"),getContents=function(url){var file=fs.readFileSync(url,"utf8");return file.indexOf("﻿")===0&&(file=file.substring(1)),file}):typeof Packages!="undefined"&&(getContents=function(url){var encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),stringBuffer,line,content="";try{stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&line.charAt(0)===65279&&(line=line.substring(1)),stringBuffer.append(line);while((line=input.readLine())!==null)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}return getContents}),define("i18n",["module"],function(module){var masterConfig=module.config();return{version:"2.0.1",load:function(name,req,onLoad,config){config=config||{},config.locale&&(masterConfig.locale=config.locale);var masterName,match=nlsRegExp.exec(name),prefix=match[1],locale=match[4],suffix=match[5],parts=locale.split("-"),toLoad=[],value={},i,part,masterContent,masterTemp,current="";match[5]?(prefix=match[1],masterName=prefix+suffix):(masterName=name,suffix=match[4],locale=masterConfig.locale,locale||(locale=masterConfig.locale=typeof navigator=="undefined"?"root":(detectLocale(navigator)||"root").toLowerCase()),parts=locale.split("-"));if(config.isBuild){toLoad.push(masterName);if(config.inlinei18n!==!0||config.locale){addIfExists(req,"root",toLoad,prefix,suffix);for(i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addIfExists(req,current,toLoad,prefix,suffix);req(toLoad,function(){onLoad()})}else masterContent=getContents(req.toUrl(masterName)),masterTemp=Math.random().toString(36),onLoad.fromText(masterTemp,masterContent),req([masterTemp],function(master){var locale;for(locale in master)master.hasOwnProperty(locale)&&master[locale]===!0&&addIfExists(req,locale,toLoad,prefix,suffix);req(toLoad,function(){onLoad()})})}else req([masterName],function(master){var needed=[],part;addPart("root",master,needed,toLoad,prefix,suffix);for(i=0;i<parts.length;i++)part=parts[i],current+=(current?"-":"")+part,addPart(current,master,needed,toLoad,prefix,suffix);req(toLoad,function(){var i,partBundle,part;for(i=needed.length-1;i>-1&&needed[i];i--){part=needed[i],partBundle=master[part];if(partBundle===!0||partBundle===1)partBundle=req(prefix+part+"/"+suffix);mixin(value,partBundle)}onLoad(value)})})}}})}(),define("nls/info.js",{root:{name:"Arithmetic",description:"Practice basic arithmetic problems",refName:"barith"},defaultLocale:"en"}),define("main",["lib/problemGenerator","json!master.json","i18n!nls/info.js","nls/info.js"],function(generator,practiceMaster,moduleInfo,localeMaster){var module={},moduleBase=TR.modulePath(moduleInfo.refName);module.description=function(){return moduleInfo.description},module.name=function(){return moduleInfo.name},module.ref=function(){return moduleInfo.refName},module.exercises=function(){var masterCopy=[],i;for(i=0;i<practiceMaster.length;i++)masterCopy[i]={title:practiceMaster[i].title,id:practiceMaster[i].sort};return masterCopy},module.exercise=function(id,callback){if(!callback)return module;var filename,i;for(i=0;i<practiceMaster.length;i++)if(practiceMaster[i].id==id){filename=practiceMaster[i].file,TR.getJSON(moduleBase+"practices/"+filename,function(exercise){callback(generator(exercise.settings))});break}return module},module.supportsLocale=function(){var locale=TR.getLocale(),parts=locale.split("-");return locale===localeMaster.defaultLocale||localeMaster[locale]?!0:parts[0]===localeMaster.defaultLocale||localeMaster[parts[0]]?!0:!1},module.iconPath=function(){return moduleBase+"icon.png"},TR.moduleLoaded.dispatch(moduleInfo.refName,module)}),require(["main"])})()